spring:
  application:
    name: blog

  config:
    import: optional:file:.env[.properties]
  profiles:
    active: dev

  flyway:
    enabled: true
    locations: classpath:db/migration, classpath:db/seed
    baseline-on-migrate: true

  quartz:
    job-store-type: jdbc
    jdbc:
      initialize-schema: never
    properties:
      org:
        quartz:
          scheduler:
            instanceName: uppickScheduler
            instanceId: AUTO
          jobStore:
            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate
            tablePrefix: QRTZ_
            isClustered: true
            clusterCheckinInterval: 20000

logging:
  level:
    org.springframework.boot.context.config: DEBUG

management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus
  endpoint:
    health:
      probes:
        enabled: true
      show-details: never
  metrics:
    tags:
      application: ${spring.application.name}

realtime:
  sse:
    keepAliveSec: 15
    bufferSize: 10000

custom:
  jwt:
    secret: ${CUSTOM__JWT__SECRET_KEY}
    access-expire-seconds: 3600
    refresh-expire-seconds: 604800
  cookie:
    secure: false
    same-site: Lax
    access-token-name: access_token
    refresh-token-name: refresh_token
  cors:
    allowed-origins: ${CUSTOM__CORS__ALLOWED__ORIGINS:http://localhost:3000}
  daily-poll:
    enabled: true
    zone: Asia/Seoul
    creator-user-id: 1
    cron: 0 5 * * * ?
    count: 2